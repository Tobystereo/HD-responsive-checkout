body {
    @include font(1,1.3);

    @media #{$large} {
        margin: 0 auto;
        max-width: 60em;
        overflow: hidden;
    }
}

*, *:before, *:after {
    box-sizing: border-box !important;
    -moz-box-sizing: border-box !important;
    -webkit-box-sizing: border-box !important;
}

header {
    display: block;
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;

    -webkit-flex-flow: row wrap;

    font-weight: normal;
    text-align: left;

}

article {

    @media #{$medium} {
        width: 96%;
        margin: 0 auto;
//        overflow: hidden;
    }
}

.nav--fit {
    width: 101%;
}


.hide {
    display: none;
}

.address-wrapper {
    list-style: none;

    li {
        display: block;
        float: left;
    }
}

.checkout{


    h1 {
        @include font(1, 2, 500);
        margin-top: 1em;
        padding-left: 1em;

        @media #{$medium}{
            @include font(1.5, 3);
            padding: 0;
        }

        @media #{$large} {
            @include font(2,4, 100)
        }
    }

	.logo {
        background-color: $light;
        max-height: $tapheight - 1 + em;
		text-align: left;
        overflow: hidden;
        display: block;

        img {
            height: 80%;
            max-height: $tapheight + em;
            margin: 5px 0 0 10px;
            display: block;
            max-width: 100%;
        }

	}

    .help {
        background-color: $light;
        max-height: $tapheight - 1 + em;
    }

    .progress {
        background: $lighter;
        text-align: center;

        a {
            border-bottom: 0;
            @include font(1, 3);
            @include transition($transition);
            font-weight: 500;
            color: $light;

            &:hover {
                background: $light-blue;

                &:before {
                    background: $light-blue-light;
                    color: $lightest;
                }
            }

            &.active {
                background-color: $light-blue !important;
                color: $lightest !important;
            }

            &:visited {
                background-color: $lighter;
                color: $light;

            }

            @media #{$large} {
                $pillsize: 40px;
                @include transition($transition);
                @include font(1, 4.5);
                background-color: $lightest !important;
                color: $dark;
                font-weight: normal;
                text-align: left;
                padding-left: $pillsize * 1.5;

                &:hover {
                    color: $light-blue-light;
                }

                &:before {
                    @include transition($transition);
                    display: block;
                    width: $pillsize;
                    height: $pillsize;
                    content: "1";
                    background: $light;
                    color: $dark;
                    border-radius: $pillsize;
                    line-height: $pillsize;
                    position: absolute;
                    margin-top: 1em;
                    margin-left: -$pillsize*1.5;
                    text-align: center;
                }

                &.active {
                    background-color: $lightest !important;
                    color: $light-blue !important;

                    &:before {
                        background: $light-blue;
                        color: $lightest !important;
                    }
                }
            }
        }


        @media #{$large} {
            .shipping a:before {
                content: "1";
            }

            .billing a:before {
                content: "2";
            }

            .review a:before {
                content: "3";
            }
        }

        .nav {
            margin-bottom: 0;
        }
    }

    .cancel-order {
        @include rem-height($tapheight);

        button {
            @include rem-height($tapheight);
        }
    }

    .btn, .cta, button {
        @include rem-height($tapheight);
        background-color: $light;
        height: 2em;

        @include font(1, 2);
        font-weight: 500;
    }

    button.primary, .btn.primary, .cta.primary {
        background-color: $green;
        color: $lightest;
    }


    button.secondary, .btn.secondary, .cta.secondary {
        background-color: $light;
        color: $dark;
    }

    button.tertiary, .btn.tertiary, .cta.tertiary {
        background-color: $lightest !important;
        color: $light;
        border: 1px solid $lighter !important;
    }

    .cta_bar {
        flex: 1 row 100%;
        left: 0;

        @include rem-height($tapheight);
        background-color: $light;

        & .grid__item {
            @include rem-height($tapheight);
        }

        .total {
            @include font(2, 5);

            @media #{$large} {
                @include font(2.5, 5);
            }

            &:before {
                @include pseudo(6rem, 1, "Total: ");
                margin-right: .6em;

            }
        }


    }

    #content {
        min-height: 1000px;
        background-color: $lightest;
    }

    #help-content, .privacy-policy, .shipping-policy {
        background-color: $dark;
    }

    #help-content {
        padding-top: $taptarget*1.5+px;
    }

    .taptarget {
        @include taptarget();
        a, button {
            @include taptarget();
        }

        &.secondary {
            @include taptarget(-2);
        }
    }
}


.changeaddress, .createaddress {
    margin: 1em auto;
    width: 100%;
}

.changeaddress {
    @media #{$medium} {
        margin-top: 0;
    }
}


.address-item {
    text-align: left;

    span {
        display: inline-block;
        text-align: left;
    }
    .name, .company, .country {
        display: block;
        clear: both;
    }



    input[type=radio] {
        display: none;

        & + label {

            overflow: hidden;
            padding: 1em;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2em;
            @include transition;
            @include border($lineweight,$linetype,transparentize($green, 1));
            background-color: $lighter;


            &:hover {
                -webkit-transform: scale(1.5);
                -webkit-transform: translateY(-.5em);
                background-color: lighten($lighter, 2%);
            }

            button {
                display: block;
                height: 2em;
            }

            .shiptothis {
                position: relative;
                display: block;
                height: 100%;
                float: right;
                margin-top: 0;
                margin-bottom: 0;

                &:after {
                    @include pseudo(100%, 2em, "Ship to this address");
                }

            }

            .edit {
                position: relative;
                float: left;
            }

            .address {
                display: block;
                float: left;
                margin-left: 0;
                margin-top: 1em;

                @media #{$medium}{
                    margin-top: 0;
                    margin-left: 1.5em;
                }

                @media #{$large}{
                    margin-top: 1em;
                    margin-left: 0;
                    clear: both;
                }
            }

        }

        &:checked + label {
            @include transition;
            outline-color: green;
            background: $light-green;

            &:hover {
                -webkit-transform: translateY(0);
            }


            .shiptothis {
                background: none;
                margin-top: 0.5em;

                @media #{$large}{
                    margin-top: 1em;
                }

                &:after {
                    @include pseudo(100%, 1em, "Selected");
                    color: $green;
                }

                &:before {
                    @include pseudo(100%, 2em, '\2714');
                    color: $green;
                    @include font-size(2);
                    @include line-height(4);
                    text-align: center;
                    margin-bottom: -2.5em;
                    display: block;
                }

            }
        }
    }

}




/* Colors */
.bg-lightest { background-color: $lightest; }
.bg-lighter { background-color: $lighter; }
.bg-light { background-color: $light; }
.bg-dark { background-color: $dark; }
.bg-darkest { background-color: $darkest; }

.graybox, .greybox {
}


/* Typography */
a, a:link, a:hover, a:active, a:focus {
    text-decoration: none;
    border-bottom: 1px solid;
}
